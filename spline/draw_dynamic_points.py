import matplotlib.pyplot as plt
import numpy as np

# 数据点（已解析）
data_points = [
    {"x": -1680.2047, "y": 1009.9851, "theta": 2.9969, "kappa": -0.0157, "v": 0.1094, "a_lon": 0.2112, "a_lat": -0.0002, "t": 0.0000},
    {"x": -1680.2172, "y": 1009.9874, "theta": 2.8990, "kappa": -9.7637, "v": 0.1516, "a_lon": 0.6332, "a_lat": -0.2244, "t": 0.1000},
    {"x": -1680.2352, "y": 1009.9934, "theta": 2.7617, "kappa": -4.8943, "v": 0.2353, "a_lon": 1.0314, "a_lat": -0.2710, "t": 0.2000},
    {"x": -1680.2618, "y": 1010.0056, "theta": 2.6720, "kappa": -1.8767, "v": 0.3553, "a_lon": 1.3523, "a_lat": -0.2369, "t": 0.3000},
    {"x": -1680.2993, "y": 1010.0260, "theta": 2.6225, "kappa": -0.6965, "v": 0.5027, "a_lon": 1.5804, "a_lat": -0.1760, "t": 0.4000},
    {"x": -1680.3496, "y": 1010.0558, "theta": 2.5980, "kappa": -0.2297, "v": 0.6683, "a_lon": 1.7162, "a_lat": -0.1026, "t": 0.5000},
    {"x": -1680.4141, "y": 1010.0952, "theta": 2.5890, "kappa": -0.0461, "v": 0.8440, "a_lon": 1.7941, "a_lat": -0.0329, "t": 0.6000},
    {"x": -1680.4936, "y": 1010.1443, "theta": 2.5885, "kappa": 0.0228, "v": 1.0263, "a_lon": 1.8482, "a_lat": 0.0240, "t": 0.7000},
    {"x": -1680.5890, "y": 1010.2029, "theta": 2.5929, "kappa": 0.0500, "v": 1.2129, "a_lon": 1.8799, "a_lat": 0.0736, "t": 0.8000},
    {"x": -1680.7007, "y": 1010.2707, "theta": 2.6003, "kappa": 0.0606, "v": 1.4015, "a_lon": 1.8896, "a_lat": 0.1191, "t": 0.9000},
    {"x": -1680.8293, "y": 1010.3472, "theta": 2.6097, "kappa": 0.0644, "v": 1.5901, "a_lon": 1.8776, "a_lat": 0.1627, "t": 1.0000},
    {"x": -1680.9748, "y": 1010.4318, "theta": 2.6206, "kappa": 0.0653, "v": 1.7764, "a_lon": 1.8442, "a_lat": 0.2061, "t": 1.1000},
    {"x": -1681.1374, "y": 1010.5238, "theta": 2.6328, "kappa": 0.0654, "v": 1.9582, "a_lon": 1.7896, "a_lat": 0.2507, "t": 1.2000},
    {"x": -1681.3168, "y": 1010.6223, "theta": 2.6462, "kappa": 0.0654, "v": 2.1336, "a_lon": 1.7140, "a_lat": 0.2976, "t": 1.3000},
    {"x": -1681.5127, "y": 1010.7263, "theta": 2.6607, "kappa": 0.0658, "v": 2.3003, "a_lon": 1.6178, "a_lat": 0.3481, "t": 1.4000},
    {"x": -1681.7245, "y": 1010.8347, "theta": 2.6765, "kappa": 0.0668, "v": 2.4565, "a_lon": 1.5013, "a_lat": 0.4031, "t": 1.5000},
    {"x": -1681.9515, "y": 1010.9462, "theta": 2.6936, "kappa": 0.0687, "v": 2.5999, "a_lon": 1.3651, "a_lat": 0.4642, "t": 1.6000},
    {"x": -1682.1928, "y": 1011.0594, "theta": 2.7123, "kappa": 0.0715, "v": 2.7289, "a_lon": 1.2099, "a_lat": 0.5326, "t": 1.7000},
    {"x": -1682.4473, "y": 1011.1728, "theta": 2.7327, "kappa": 0.0756, "v": 2.8413, "a_lon": 1.0365, "a_lat": 0.6099, "t": 1.8000},
    {"x": -1682.7138, "y": 1011.2848, "theta": 2.7553, "kappa": 0.0810, "v": 2.9356, "a_lon": 0.8462, "a_lat": 0.6982, "t": 1.9000},
    {"x": -1682.9907, "y": 1011.3934, "theta": 2.7804, "kappa": 0.0883, "v": 3.0100, "a_lon": 0.6404, "a_lat": 0.7997, "t": 2.0000},
    {"x": -1683.2764, "y": 1011.4968, "theta": 2.8085, "kappa": 0.0960, "v": 3.0640, "a_lon": 0.4440, "a_lat": 0.9010, "t": 2.1000},
    {"x": -1683.5692, "y": 1011.5932, "theta": 2.8391, "kappa": 0.1027, "v": 3.0999, "a_lon": 0.2800, "a_lat": 0.9869, "t": 2.2000},
    {"x": -1683.8677, "y": 1011.6811, "theta": 2.8720, "kappa": 0.1084, "v": 3.1210, "a_lon": 0.1466, "a_lat": 1.0561, "t": 2.3000},
    {"x": -1684.1705, "y": 1011.7591, "theta": 2.9066, "kappa": 0.1130, "v": 3.1302, "a_lon": 0.0416, "a_lat": 1.1072, "t": 2.4000},
    {"x": -1684.4762, "y": 1011.8265, "theta": 2.9426, "kappa": 0.1162, "v": 3.1302, "a_lon": -0.0376, "a_lat": 1.1381, "t": 2.5000},
    {"x": -1684.7838, "y": 1011.8828, "theta": 2.9792, "kappa": 0.1176, "v": 3.1234, "a_lon": -0.0942, "a_lat": 1.1469, "t": 2.6000},
    {"x": -1685.0923, "y": 1011.9275, "theta": 3.0158, "kappa": 0.1168, "v": 3.1120, "a_lon": -0.1319, "a_lat": 1.1312, "t": 2.7000},
    {"x": -1685.4010, "y": 1011.9610, "theta": 3.0516, "kappa": 0.1135, "v": 3.0976, "a_lon": -0.1544, "a_lat": 1.0890, "t": 2.8000},
    {"x": -1685.7091, "y": 1011.9834, "theta": 3.0858, "kappa": 0.1073, "v": 3.0815, "a_lon": -0.1657, "a_lat": 1.0184, "t": 2.9000},
    {"x": -1686.0162, "y": 1011.9956, "theta": 3.1173, "kappa": 0.0977, "v": 3.0647, "a_lon": -0.1693, "a_lat": 0.9177, "t": 3.0000},
    {"x": -1686.3218, "y": 1011.9987, "theta": -3.1377, "kappa": 0.0868, "v": 3.0476, "a_lon": -0.1730, "a_lat": 0.8059, "t": 3.1000},
    {"x": -1686.6256, "y": 1011.9936, "theta": -3.1129, "kappa": 0.0766, "v": 3.0299, "a_lon": -0.1813, "a_lat": 0.7030, "t": 3.2000},
    {"x": -1686.9274, "y": 1011.9816, "theta": -3.0912, "kappa": 0.0671, "v": 3.0113, "a_lon": -0.1921, "a_lat": 0.6089, "t": 3.3000},
    {"x": -1687.2270, "y": 1011.9636, "theta": -3.0723, "kappa": 0.0585, "v": 2.9915, "a_lon": -0.2041, "a_lat": 0.5233, "t": 3.4000},
    {"x": -1687.5243, "y": 1011.9405, "theta": -3.0561, "kappa": 0.0505, "v": 2.9705, "a_lon": -0.2157, "a_lat": 0.4460, "t": 3.5000},
    {"x": -1687.8189, "y": 1011.9131, "theta": -3.0422, "kappa": 0.0434, "v": 2.9484, "a_lon": -0.2260, "a_lat": 0.3769, "t": 3.6000},
    {"x": -1688.1110, "y": 1011.8822, "theta": -3.0305, "kappa": 0.0369, "v": 2.9253, "a_lon": -0.2339, "a_lat": 0.3158, "t": 3.7000},
    {"x": -1688.4004, "y": 1011.8484, "theta": -3.0206, "kappa": 0.0312, "v": 2.9017, "a_lon": -0.2388, "a_lat": 0.2625, "t": 3.8000},
    {"x": -1688.6871, "y": 1011.8123, "theta": -3.0123, "kappa": 0.0262, "v": 2.8777, "a_lon": -0.2400, "a_lat": 0.2170, "t": 3.9000},
    {"x": -1688.9711, "y": 1011.7744, "theta": -3.0054, "kappa": 0.0220, "v": 2.8538, "a_lon": -0.2371, "a_lat": 0.1792, "t": 4.0000},
    {"x": -1689.2526, "y": 1011.7349, "theta": -2.9997, "kappa": 0.0183, "v": 2.8304, "a_lon": -0.2321, "a_lat": 0.1467, "t": 4.1000},
    {"x": -1689.5315, "y": 1011.6944, "theta": -2.9950, "kappa": 0.0149, "v": 2.8074, "a_lon": -0.2273, "a_lat": 0.1173, "t": 4.2000},
    {"x": -1689.8081, "y": 1011.6530, "theta": -2.9913, "kappa": 0.0117, "v": 2.7849, "a_lon": -0.2224, "a_lat": 0.0909, "t": 4.3000},
    {"x": -1690.0823, "y": 1011.6111, "theta": -2.9884, "kappa": 0.0089, "v": 2.7629, "a_lon": -0.2174, "a_lat": 0.0678, "t": 4.4000},
    {"x": -1690.3542, "y": 1011.5688, "theta": -2.9863, "kappa": 0.0064, "v": 2.7414, "a_lon": -0.2122, "a_lat": 0.0478, "t": 4.5000},
    {"x": -1690.6240, "y": 1011.5264, "theta": -2.9849, "kappa": 0.0042, "v": 2.7205, "a_lon": -0.2068, "a_lat": 0.0310, "t": 4.6000},
    {"x": -1690.8917, "y": 1011.4839, "theta": -2.9840, "kappa": 0.0024, "v": 2.7001, "a_lon": -0.2009, "a_lat": 0.0175, "t": 4.7000},
    {"x": -1691.1574, "y": 1011.4416, "theta": -2.9836, "kappa": 0.0010, "v": 2.6803, "a_lon": -0.1947, "a_lat": 0.0072, "t": 4.8000},
    {"x": -1691.4211, "y": 1011.3996, "theta": -2.9835, "kappa": 0.0000, "v": 2.6612, "a_lon": -0.1881, "a_lat": 0.0002, "t": 4.9000},
    {"x": -1691.6830, "y": 1011.3578, "theta": -2.9835, "kappa": -0.0005, "v": 2.6427, "a_lon": -0.1811, "a_lat": -0.0035, "t": 5.0000}
]

# 提取数据
x = [point["x"] for point in data_points]
y = [point["y"] for point in data_points]
theta = [point["theta"] for point in data_points]
kappa = [point["kappa"] for point in data_points]
t = [point["t"] for point in data_points]

# 创建三幅子图
plt.figure(figsize=(15, 5))

# 1. x-y 轨迹图
plt.subplot(1, 3, 1)
plt.plot(x, y, 'b-', label='Trajectory')
plt.xlabel('x')
plt.ylabel('y')
plt.title('Trajectory (x-y)')
plt.grid(True)
plt.axis('equal')  # 保持比例一致

# 在起点添加箭头表示 theta 方向
start_x, start_y = x[0], y[0]
start_theta = theta[0]
arrow_length = 1.0  # 箭头长度
dx = arrow_length * np.cos(start_theta)  # x方向分量
dy = arrow_length * np.sin(start_theta)  # y方向分量
plt.arrow(start_x, start_y, dx, dy, 
          head_width=0.3, head_length=0.5, 
          fc='red', ec='red', 
          label='Initial Theta')
plt.legend()

# 2. theta vs t
plt.subplot(1, 3, 2)
plt.plot(t, theta, 'r-', label='Theta')
plt.xlabel('t')
plt.ylabel('theta (rad)')
plt.title('Theta vs Time')
plt.grid(True)

# 3. kappa vs t
plt.subplot(1, 3, 3)
plt.plot(t, kappa, 'g-', label='Kappa')
plt.xlabel('t')
plt.ylabel('kappa (1/m)')
plt.title('Kappa vs Time')
plt.grid(True)

plt.tight_layout()
plt.show()